"use strict";(self.webpackChunkthisevening=self.webpackChunkthisevening||[]).push([[657],{657:function(e,n,t){t.r(n),t.d(n,{default:function(){return S}});var r,i,c,a,s,o=t(439),u=t(682),l=t(165),d=t(861),p=t(791),f=t(689),h=t(168),x=t(87),g=t(444),m=(0,g.ZP)(x.rU)(r||(r=(0,h.Z)(["\ndisplay: flex;\nflex-direction: column;\ngap: 10px;\ntransition: all 0.3s ease 0s;\n:hover{\n   color: ",";\n}\n}\n"])),(function(e){return e.theme.colors.blue})),v=g.ZP.img(i||(i=(0,h.Z)(["\nmax-width: 100%;\nflex: 0 1 285px;\n"]))),b=g.ZP.p(c||(c=(0,h.Z)(["\nfont-weight: ",";\ntext-align: center;\n"])),(function(e){return e.theme.fontWeights.bold})),Z=t(722),j=t(184),y=function(e){var n=e.name,t=(0,f.TH)(),r=(0,p.useState)([]),i=(0,o.Z)(r,2),c=i[0],a=i[1],s=(0,p.useState)(null),h=(0,o.Z)(s,2),x=h[0],g=h[1],y=(0,p.useState)("idle"),k=(0,o.Z)(y,2),w=k[0],C=k[1];return(0,p.useEffect)((function(){function e(){return(e=(0,d.Z)((0,l.Z)().mark((function e(){var t,r;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C("pending"),e.prev=1,e.next=4,fetch("https://api.themoviedb.org/3/search/movie?api_key=bb57fc1f55d743e80077a0ce49d67a5f&language=ru-RUS&query=".concat(n,"&page=1&include_adult=false"));case 4:return e.next=6,e.sent.json();case 6:return t=e.sent,e.next=9,t;case 9:r=e.sent,a(r.results),C("resolved"),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(1),g("\u0423\u043f\u0441... \u0429\u043e\u0441\u044c \u043f\u0456\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a. \u041f\u0435\u0440\u0435\u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0442\u0435 \u0441\u0442\u043e\u0440\u0456\u043d\u043a\u0443!"),C("rejected");case 18:case 19:case"end":return e.stop()}}),e,null,[[1,14]])})))).apply(this,arguments)}n&&function(){e.apply(this,arguments)}()}),[n]),"pending"===w?(0,j.jsx)("div",{children:"\u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0443\u0454\u043c\u043e..."}):"rejected"===w?(0,j.jsx)("div",{children:x}):"resolved"===w?(0,j.jsx)(u.x,{as:"ul",display:"grid",gridTemplateColumns:"repeat(6, 1fr)",flexDirection:"column",py:"5",gridGap:"5",children:c.map((function(e){return(0,j.jsxs)(m,{state:{from:t},to:"".concat(e.id),children:[null!==e.poster_path?(0,j.jsx)("div",{children:(0,j.jsx)(v,{src:"https://image.tmdb.org/t/p/w500/".concat(e.poster_path),alt:e.title})}):(0,j.jsx)(u.x,{display:"flex",flexDirection:"column",flex:"0 1 285px",children:(0,j.jsx)(v,{src:Z,alt:e.title})}),(0,j.jsx)(b,{children:e.title})]},e.id)}))}):void 0},k=g.ZP.input(a||(a=(0,h.Z)(["\nborder: ",";\npadding: ","px;\nwidth: 100%;\n"])),(function(e){return e.theme.borders.normal}),(function(e){return e.theme.space[2]})),w=g.ZP.button(s||(s=(0,h.Z)(["\ndisplay: inline-block;\npadding-top: ","px;\npadding-bottom: ","px;\npadding-left: ","px;\npadding-right: ","px;\nbackground: ",";\ntransition: all 0.3s ease 0s;\nborder: ",";\n:hover{\n   background: ",";\n}\n"])),(function(e){return e.theme.space[4]}),(function(e){return e.theme.space[4]}),(function(e){return e.theme.space[5]}),(function(e){return e.theme.space[5]}),(function(e){return e.theme.colors.btn}),(function(e){return e.theme.borders.normal}),(function(e){return e.theme.colors.hover})),C=function(e){var n=e.onClick,t=(0,p.useState)(""),r=(0,o.Z)(t,2),i=r[0],c=r[1];return(0,j.jsxs)(u.x,{display:"flex",gridGap:"2",mb:"6",children:[(0,j.jsx)(k,{type:"text",onChange:function(e){c(e.target.value)}}),(0,j.jsx)(w,{type:"button",onClick:function(e){n(i)},children:"\u041f\u043e\u0438\u0441\u043a"})]})},S=function(){var e=(0,x.lr)(),n=(0,o.Z)(e,2),t=n[0],r=n[1],i=t.get("query"),c=(0,p.useState)(null!==i&&void 0!==i?i:""),a=(0,o.Z)(c,2),s=a[0],l=a[1];return(0,j.jsxs)(u.x,{px:"4",py:"100px",background:"#c52929",children:[(0,j.jsx)(C,{onClick:function(e){l(e),r(""!==e?{query:e,page:1}:{})}}),(0,j.jsx)(y,{name:s})]})}}}]);
//# sourceMappingURL=657.8cf74332.chunk.js.map