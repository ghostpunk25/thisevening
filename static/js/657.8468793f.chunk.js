"use strict";(self.webpackChunkthisevening=self.webpackChunkthisevening||[]).push([[657],{657:function(e,n,t){t.r(n),t.d(n,{default:function(){return S}});var r,i,a,c,s,o=t(439),u=t(682),l=t(165),p=t(861),d=t(791),f=t(689),x=t(168),h=t(87),g=t(444),m=(0,g.ZP)(h.rU)(r||(r=(0,x.Z)(["\nflex: 0 1 210px;\ndisplay: flex;\nflex-direction: column;\ngap: 10px;\ntransition: all 0.3s ease 0s;\n:hover{\n   color: ",";\n}\n}\n"])),(function(e){return e.theme.colors.blue})),v=g.ZP.img(i||(i=(0,x.Z)(["\nmax-width: 100%;\nflex: 0 1 285px;\n"]))),b=g.ZP.p(a||(a=(0,x.Z)(["\nfont-weight: ",";\ntext-align: center;\n"])),(function(e){return e.theme.fontWeights.bold})),j=t(722),Z=t(184),y=function(e){var n=e.name,t=(0,f.TH)(),r=(0,d.useState)([]),i=(0,o.Z)(r,2),a=i[0],c=i[1],s=(0,d.useState)(null),x=(0,o.Z)(s,2),h=x[0],g=x[1],y=(0,d.useState)("idle"),k=(0,o.Z)(y,2),w=k[0],C=k[1];return(0,d.useEffect)((function(){function e(){return(e=(0,p.Z)((0,l.Z)().mark((function e(){var t,r;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C("pending"),e.prev=1,e.next=4,fetch("https://api.themoviedb.org/3/search/movie?api_key=bb57fc1f55d743e80077a0ce49d67a5f&language=ru-RUS&query=".concat(n,"&page=1&include_adult=false"));case 4:return e.next=6,e.sent.json();case 6:return t=e.sent,e.next=9,t;case 9:r=e.sent,c(r.results),C("resolved"),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(1),g("\u0423\u043f\u0441... \u0429\u043e\u0441\u044c \u043f\u0456\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a. \u041f\u0435\u0440\u0435\u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0442\u0435 \u0441\u0442\u043e\u0440\u0456\u043d\u043a\u0443!"),C("rejected");case 18:case 19:case"end":return e.stop()}}),e,null,[[1,14]])})))).apply(this,arguments)}n&&function(){e.apply(this,arguments)}()}),[n]),"pending"===w?(0,Z.jsx)("div",{children:"\u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0443\u0454\u043c\u043e..."}):"rejected"===w?(0,Z.jsx)("div",{children:h}):"resolved"===w?(0,Z.jsx)(u.x,{as:"ul",display:"flex",justifyContent:"space-evenly",flexWrap:"wrap",py:"5",gridGap:"5",children:a.map((function(e){return(0,Z.jsxs)(m,{state:{from:t},to:"".concat(e.id),children:[null!==e.poster_path?(0,Z.jsx)("div",{children:(0,Z.jsx)(v,{src:"https://image.tmdb.org/t/p/original/".concat(e.poster_path),alt:e.title})}):(0,Z.jsx)(u.x,{display:"flex",flexDirection:"column",flex:"0 1 285px",children:(0,Z.jsx)(v,{src:j,alt:e.title})}),(0,Z.jsx)(b,{children:e.title})]},e.id)}))}):void 0},k=g.ZP.input(c||(c=(0,x.Z)(["\nborder: ",";\npadding: ","px;\nwidth: 100%;\n"])),(function(e){return e.theme.borders.normal}),(function(e){return e.theme.space[2]})),w=g.ZP.button(s||(s=(0,x.Z)(["\ndisplay: inline-block;\npadding-top: ","px;\npadding-bottom: ","px;\npadding-left: ","px;\npadding-right: ","px;\nbackground: ",";\ntransition: all 0.3s ease 0s;\nborder: ",";\n:hover{\n   background: ",";\n}\n"])),(function(e){return e.theme.space[4]}),(function(e){return e.theme.space[4]}),(function(e){return e.theme.space[5]}),(function(e){return e.theme.space[5]}),(function(e){return e.theme.colors.btn}),(function(e){return e.theme.borders.normal}),(function(e){return e.theme.colors.hover})),C=function(e){var n=e.onClick,t=(0,d.useState)(""),r=(0,o.Z)(t,2),i=r[0],a=r[1];return(0,Z.jsxs)(u.x,{display:"flex",gridGap:"2",mb:"6",children:[(0,Z.jsx)(k,{type:"text",onChange:function(e){a(e.target.value)}}),(0,Z.jsx)(w,{type:"button",onClick:function(e){n(i)},children:"\u041f\u043e\u0438\u0441\u043a"})]})},S=function(){var e=(0,h.lr)(),n=(0,o.Z)(e,2),t=n[0],r=n[1],i=t.get("query"),a=(0,d.useState)(null!==i&&void 0!==i?i:""),c=(0,o.Z)(a,2),s=c[0],l=c[1];return(0,Z.jsxs)(u.x,{px:"4",py:"100px",background:"#c52929",children:[(0,Z.jsx)(C,{onClick:function(e){l(e),r(""!==e?{query:e,page:1}:{})}}),(0,Z.jsx)(y,{name:s})]})}}}]);
//# sourceMappingURL=657.8468793f.chunk.js.map